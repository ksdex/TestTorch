{"version":3,"sources":["..\\..\\..\\..\\assets\\script/assets\\script\\animation.js"],"names":["JoystickInfo1","require","JoystickInfo2","cc","Class","extends","Component","properties","joystickInfo1","default","type","displayName","joystickInfo2","finalLight","Node","blackShade","guide3","guide4","turnHead","url","AudioClip","walkingAudio","torchSwitch","_timeStart","_timeLimit","_havePlayed","_tempAngle1","_tempAngle2","ifDead","_ifPlayedMusic1","_ifPlayedMusic2","_ifPlayedMusic3","_ifPlayedMusic4","_ifPlayedMusic5","onLoad","Date","valueOf","opacity","update","dt","myAnimation","getComponent","Animation","play","playAdditive","audioEngine","stop","_ifMove","publicAngle","log"],"mappings":"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","file":"animation.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\nvar JoystickInfo1 = require('JoystickBG1');\nvar JoystickInfo2 = require('JoystickBG2');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        joystickInfo1: {\n\n            default: null,\n            type: JoystickInfo1,\n            displayName: '移动信息来源',\n        },\n        joystickInfo2: {\n\n            default: null,\n            type: JoystickInfo2,\n            displayName: '方向信息来源',\n        },\n        finalLight:{\n            default:null,\n            type:cc.Node,\n            displayName:'灯光',\n        },\n        blackShade:{\n            default:null,\n            type:cc.Node,\n            displayName:'黑幕',\n        },\n        guide3:\n        {\n            default:null,\n            type:cc.Node,\n            displayName:'guide3',\n        },\n        guide4:\n        {\n            default:null,\n            type:cc.Node,\n            displayName:'guide4',\n        },\n        turnHead:\n        {\n            default:null,\n            url:cc.AudioClip,\n        },\n        walkingAudio:\n        {\n            default:null,\n            url:cc.AudioClip,\n        },\n        torchSwitch:\n        {\n            default:null,\n            url:cc.AudioClip,\n        },\n        _timeStart: 0,\n        _timeLimit: 0,\n        _havePlayed: 0,\n        _tempAngle1: 1,\n        _tempAngle2: 1,\n        ifDead: 0,\n        _ifPlayedMusic1:0,\n        _ifPlayedMusic2:0,\n        _ifPlayedMusic3:0,\n        _ifPlayedMusic4:0,\n        _ifPlayedMusic5:0,\n\n    },\n\n\n    onLoad: function () {\n        // this._tempAngle1 = this.joystickInfo.publicAngle;\n        // this._tempAngle2 = this.joystickInfo.publicAngle;\n        // if (this._tempAngle1 <= -45 && this._tempAngle1 >= -135) {\n        //     this._tempAngle1 = 1;\n        // }\n        // else {\n        //     this._tempAngle1 = 0;\n        // }\n        this._tempAngle1 = 1;\n        this._tempAngle2 = this._tempAngle1;\n\n        this._timeStart = (new Date()).valueOf();\n        this._timeLimit = this._timeStart + 6000;\n        this._havePlayed = 0;\n        this.blackShade.opacity = 0;\n        this.finalLight.opacity = 0;\n        this.guide3.opacity = 0;\n        this.guide4.opacity = 0;\n        this.ifDead = 0;\n        this._ifPlayedMusic1 = 0;\n        this._ifPlayedMusic2 = 0;\n        this._ifPlayedMusic3 = 0;\n        this._ifPlayedMusic4 = 0;\n        this._ifPlayedMusic5 = 0;\n    },\n\n    update: function (dt) {\n        var myAnimation = this.getComponent(cc.Animation);\n        this._timeStart = (new Date()).valueOf();\n\n        if ((this._timeStart < this._timeLimit - 3900) && this._havePlayed == 0) {\n            myAnimation.play('TestBack');\n            myAnimation.playAdditive('FirstIn');\n            cc.audioEngine.play(this.walkingAudio,false);\n            this._havePlayed = 1;\n\n        }\n        else if ((this._timeStart > this._timeLimit - 3900) && (this._timeStart < this._timeLimit - 2800)) {\n            this.blackShade.opacity = 200;\n            myAnimation.stop();\n\n        }\n        else if((this._timeStart > this._timeLimit - 2800) && (this._timeStart < this._timeLimit - 2550))\n        {\n            if(this._ifPlayedMusic1 == 0)\n            {\n                cc.audioEngine.play(this.turnHead,false);\n                this._ifPlayedMusic1 = 1;\n            }\n            myAnimation.play('TestLeft');\n        }\n        else if((this._timeStart > this._timeLimit - 2550) && (this._timeStart < this._timeLimit - 2300))\n        {\n            if(this._ifPlayedMusic2 == 0)\n            {\n                cc.audioEngine.play(this.turnHead,false);\n                this._ifPlayedMusic2 = 1;\n            }\n            myAnimation.play('TestRight');\n        }\n        else if((this._timeStart > this._timeLimit - 2300) && (this._timeStart < this._timeLimit - 2050))\n        {\n            if(this._ifPlayedMusic3 == 0)\n            {\n                cc.audioEngine.play(this.turnHead,false);\n                this._ifPlayedMusic3 = 1;\n            }\n            myAnimation.play('TestLeft');\n        }\n        else if((this._timeStart > this._timeLimit - 2050) && (this._timeStart < this._timeLimit - 1600))\n        {\n            if(this._ifPlayedMusic4 == 0)\n            {\n                cc.audioEngine.play(this.turnHead,false);\n                this._ifPlayedMusic4 = 1;\n            }\n            myAnimation.play('TestRight');\n        }\n        else if((this._timeStart > this._timeLimit - 1600) && (this._timeStart < this._timeLimit - 300))\n        {\n            myAnimation.play('TestBack');\n        }\n        else if((this._timeStart > this._timeLimit - 300) && (this._timeStart < this._timeLimit ))\n        {\n            if(this._ifPlayedMusic5 == 0)\n            {\n                cc.audioEngine.play(this.torchSwitch, false);\n                this.blackShade.opacity = 0;\n                this.finalLight.opacity = 200;\n                this._ifPlayedMusic5 = 1;\n            }\n        }\n        else if (this._timeStart > this._timeLimit && this._timeStart < this._timeLimit + 5000)\n        {\n            myAnimation.stop();\n            this.guide3.opacity = 255;\n            this.guide4.opacity = 255;\n        }\n        else if (this._timeStart > this._timeLimit + 5000 && this.ifDead == 0) {\n            if(this.guide3.opacity == 255)\n            {\n                this.guide3.opacity = 0;\n                this.guide4.opacity = 0;\n            }\n            if (this.joystickInfo1._ifMove == 0) {\n\n                if (this.joystickInfo2.publicAngle <= -45 && this.joystickInfo2.publicAngle >= -135) {\n                    this._tempAngle1 = 1;//back\n                }\n                else if (\n                    (this.joystickInfo2.publicAngle <= -135 && this.joystickInfo2.publicAngle >= -180)\n                    || (this.joystickInfo2.publicAngle <= 180 && this.joystickInfo2.publicAngle >= 135)\n                ) {\n                    this._tempAngle1 = 2;//right\n                }\n                else if (this.joystickInfo2.publicAngle <= 135 && this.joystickInfo2.publicAngle >= 45) {\n                    this._tempAngle1 = 3;//front\n                }\n                else if (\n                    (this.joystickInfo2.publicAngle >= 0 && this.joystickInfo2.publicAngle <= 45)\n                    || (this.joystickInfo2.publicAngle <= 0 && this.joystickInfo2.publicAngle >= -45)\n                ) {\n                    this._tempAngle1 = 4;//left\n                }\n\n                switch (this._tempAngle1) {\n                    case 1:\n                        myAnimation.play('TestBack');\n                        cc.log(\"turnBackOK\");\n                        break;\n                    case 2:\n                        myAnimation.play('TestRight');\n                        cc.log(\"turnRightOK\");\n                        break;\n                    case 3:\n                        myAnimation.play('TestFront');\n                        cc.log(\"turnFrontOK\");\n                        break;\n                    case 4:\n                        myAnimation.play('TestLeft');\n                        cc.log(\"turnLeftOK\");\n                        break;\n                    default:\n                        break;\n                }\n                \n            }\n            else if (this.joystickInfo1._ifMove == 1) {\n\n                if (this.joystickInfo2.publicAngle <= -45 && this.joystickInfo2.publicAngle >= -135) {\n                    this._tempAngle1 = 1;//back\n                }\n                else if (\n                    (this.joystickInfo2.publicAngle <= -135 && this.joystickInfo2.publicAngle >= -180)\n                    || (this.joystickInfo2.publicAngle <= 180 && this.joystickInfo2.publicAngle >= 135)\n                ) {\n                    this._tempAngle1 = 2;//right\n                }\n                else if (this.joystickInfo2.publicAngle <= 135 && this.joystickInfo2.publicAngle >= 45) {\n                    this._tempAngle1 = 3;//front\n                }\n                else if (\n                    (this.joystickInfo2.publicAngle >= 0 && this.joystickInfo2.publicAngle <= 45)\n                    || (this.joystickInfo2.publicAngle <= 0 && this.joystickInfo2.publicAngle >= -45)\n                ) {\n                    this._tempAngle1 = 4;//left\n                }\n\n\n                if (this._tempAngle1 === this._tempAngle2) {\n\n                    // console.log('No turn and ok');//use to debug\n                }\n                else {\n                    switch (this._tempAngle1) {\n                        case 1:\n                            myAnimation.play('TestBack');\n                            this._tempAngle2 = this._tempAngle1;\n                            //console.log(\"turnBackOK\");\n                            break;\n                        case 2:\n                            myAnimation.play('TestRight');\n                            this._tempAngle2 = this._tempAngle1;\n                            // console.log(\"turnRightOK\");\n                            break;\n                        case 3:\n                            myAnimation.play('TestFront');\n                            this._tempAngle2 = this._tempAngle1;\n                            // console.log(\"turnFrontOK\");\n                            break;\n                        case 4:\n                            myAnimation.play('TestLeft');\n                            this._tempAngle2 = this._tempAngle1;\n                            // console.log(\"turnLeftOK\");\n                            break;\n                        default:\n                            break;\n                    }\n\n                }\n\n            }\n        }\n        else\n        {\n            ;\n        }\n\n\n    }\n\n\n\n});\n"]}